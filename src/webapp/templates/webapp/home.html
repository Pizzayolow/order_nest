{% extends 'base.html' %}

{% block title %}
    <title>Home</title>
{% endblock %}

{% block content %}
<div class="flex justify-around">
{% for commande in commandes %}
    <div class="block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
        <p class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"> libelle : {{ commande.label }} </h1></p>
        <p class="font-normal text-gray-700 dark:text-gray-400">id : {{ commande.pk }}</p>
        <p class="font-normal text-gray-700 dark:text-gray-400">first name : {{ commande.customer.first_name }}</p>
        <p class="font-normal text-gray-700 dark:text-gray-400">last_name : {{ commande.customer.last_name }}</p>
        <p class="font-normal text-gray-700 dark:text-gray-400">phone number : {{ commande.customer.phone_number }}</p>
        <p class="font-normal text-gray-700 dark:text-gray-400">comments : {{ commande.comments }}</p>
        <p class="font-normal text-gray-700 dark:text-gray-400">created at : {{ commande.created_at|date:"SHORT_DATE_FORMAT" }}</p>
        <p class="font-normal text-gray-700 dark:text-gray-400">delivery date : {{ commande.estimated_delivery_date }}</p>
        <p class="font-normal text-gray-700 dark:text-gray-400">invoice date : {{ commande.invoice_date }}</p>
        <ul class="font-normal text-gray-700 dark:text-gray-400">
            {% for product in commande.products.all %}
                <li>libellé : {{ product.label }}</li>
                <li>prix unitaire de vente : {{ product.selling_price_unit }}</li>
                <li>quantité : {{ product.quantity }} </li>
            {% endfor %}
        </ul>
        <p>Total de la commande: {{ commande.total_price }}</p>
        <button><a href="{% url 'webapp:order-detail' pk=commande.pk %}">Voir détail</a></button>
    </div>

{% endfor %}


{% endblock %}
